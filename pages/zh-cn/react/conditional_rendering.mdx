---
title: 条件渲染
---

import shortCircuitAnd from '../../../examples/files/react/shortCircuitAnd.js'
import ternaryEvaluation from '../../../examples/files/react/ternaryEvaluation.js'
import complexRendering from '../../../examples/files/react/complexRendering.js'

## 基于 `props` 参数渲染

React 组件基于传入的 `props` 参数，来渲染完全不同类型的元素的做法，也是很常见的。

React 在这方面的灵活度很高，在每次调用函数组件的时候都可以返回完全不同的元素树。

> 换句话说，如果我们要隐藏一个组件，只要在元素树排除中它即可。

---

## React 节点

从函数组件返回的数据不局限于 React 元素，以下的数据类型都有效：

- React 元素
- `false`, `null`, 或者 `undefined` （什么都不渲染）
- 包含上述数据类型的数组
- React Portal (传送门)

> 如果你使用的是 TypeScript，`React.ReactNode` 包括上述所有数据类型。

---

## 渲染时使用 `&&` 运算符

一个最常见的例子：根据对应属性值的条件来渲染或跳过元素。<Details>在下面的例子里，Card 组件有 `title` 和 `showButton`（可选）这两个属性。该组件里的 `Button` 元素只会在 `showButton` 为 true 的情况下渲染。</Details>

<Example code={shortCircuitAnd} />

---

## 渲染时使用 `?` 三元运算符

另一个常见的例子：<Details>使用三元运算符</Details>为对应属性值在条件达成，和不达成两种情况下分别渲染不同的元素。

> 请注意一个点，由于空字符串 `""` 的条件判断值为 false, 如果 buttonTitle 是空字符串话，Button 元素是不会渲染的。 如果你想在 Button 显示空字符串的话，请使用 `butonTitle === undefined` 判断条件。

<Example code={ternaryEvaluation} />

---

## 渲染时使用 `if/else`

在复杂的渲染场景里，我们可以使用变量来存储元素。<Details>在这个范例中，通过判断 `loading`，`error` 这两个属性是否存在来渲染不同的元素。</Details>

<Example code={complexRendering} />

---

## 管理复杂性

React 提供了强大的机制来渲染简单或复杂的 UI。但随着复杂性的增加，代码可能会变得难以管理。**建议把复杂的组件拆分成若干小组件，这样更好管理。**
